//文件包含
#include<stdio.h>
#include<math.h>
#include<string.h>

//主函数，程序入口
void main()
{
	//程序用到的变量定义
	int user01 = 123, pwd01 = 234, user02, pwd02;
	//char user01[10] = "stud001", user02[10];
	//char pwd01[10] = "p001", pwd02[10];
	int menuid = -1;

	//身份验证
newinput:
	printf("请输入您的用户名：");
	scanf_s("%d", &user02);
	//gets(user02);

	printf("请输入您的密码：");
	scanf_s("%d", &pwd02);
	//gets(pwd02);
	//scanf_s("%s%s", user02, pwd02);
	
	if (user01 == user02 && pwd01 == pwd02)// &user01
	{
		printf("您输入的用户名和密码正确，可以进入系统！\n");
	}
	//数据有误：用户名错误、密码错误、两者都错
	//构造多分支，判断具体错误是什么，然后提示用户
	else
	{
		//数据有误：用户名错误、密码错误、两者都错
		//构造多分支，判断具体错误是什么，然后提示用户！
		if (user01 != user02 && pwd01 == pwd02)
		{ 
			printf("您输入的用户名有误，请重新输入！\n\n");
		}
		else
		{
			if (user01 == user02 && pwd01 != pwd02)
			{
				printf("您输入的密码有误，请重新输入！\n\n");
			}
			else
			{
				printf("您输入的用户名和密码都有误，请重新输入！\n\n");
			}
		}
		goto newinput;
	}
	//显示系统欢迎语
	printf("欢迎您使用C语言顺序结构、选择结构和循环结构演示系统！\n\n");

	//显示系统的功能菜单
	//构造菜单二维字符数组
	char menudata[8][30] = { "********************\n","1.判断闰年\n","2.判断素数\n","3.输出菲波那切数列\n","4.猜拳游戏\n","5.九九乘法表\n","6.退出系统\n","********************\n" };
	while (1)
	{
		/*
		printf("********************\n");
		printf("1.判断闰年\n");
		printf("2.判断素数\n");
		printf("3.输出菲波那切数列\n");
		printf("4.猜拳游戏\n");
		printf("5.九九乘法表\n");
		printf("6.退出系统\n");
		printf("********************\n");
		*/
		int i;
		for(i = 0; i < 8; i++)
			puts(menudata[i]);

		//根据选择的菜单项，执行对应的分支
		printf("请选择要执行的菜单功能（1-6）：");
		scanf_s("%d", &menuid);

		//系统核心功能多分支结构
		switch (menuid)
		{
		case 1:
		{
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("☆※※※※※※※※※列※判※断※闰※年※※※※※※※※※※☆\n");
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("                                                      23210925刘奇制作\n");
			printf("_________________________________________________________________________________\n\n\n");

			{
				int year, flag;
				printf("请输入年数:");
				scanf_s("%d", &year);
				if (year % 4 == 0)
				{
					if (year % 100 == 0)
					{
						if (year % 400 == 0)
							flag = 1;
						else
							flag = 0;
					}
					else
						flag = 1;
				}
				else
					flag = 0;
				if (flag)
					printf("%d是一个闰年\n\n", year);
				else
					printf("%d不是一个闰年\n\n", year);
				break;
			}
		}
		case 2:
		{	
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("☆※※※※※※※※※※判※断※素※数※※※※※※※※※※※☆\n");
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("                                                      23210925刘奇制作\n");
			printf("_________________________________________________________________________________\n\n\n");

			{ 
				int a = 0;  // 素数的个数
				int num = 0;  // 输入的整数
				printf("输入一个整数：");
				scanf_s("%d", &num);
				for (int i = 2; i < num; i++)
				{
					if (num % i == 0)
					{
						a++;  // 素数个数加1
					}
				}
				if (a == 0)
				{
					printf("%d是素数。\n", num);
				}
				else 
				{
					printf("%d不是素数。\n", num);
				}
				return 0;
			}
				break;
		}
		case 3:
		{
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("☆※※※※※※※※菲※波※那※切※数※列※※※※※※※※※☆\n");
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("                                                      23210925刘奇制作\n");
			printf("_________________________________________________________________________________\n\n\n");

			{
				int i, n, t1 = 0, t2 = 1, nextTerm;

				printf("输出几项: ");
				scanf_s("%d", &n);

				printf("斐波那契数列: ");

				for (i = 1; i <= n; ++i)
				{
					printf("%d, ", t1);
					nextTerm = t1 + t2;
					t1 = t2;
					t2 = nextTerm;
				}
				return 0;

				break;
			}
		}
		case 4:
		{
			
			int user;
			int computer;
			int u = 0, n = 0;
			int num = 1;
			char c=0;
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("☆※※※※※※※※※※猜※拳※游※戏※※※※※※※※※※※※☆\n");
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("                                                        23120925刘奇制作\n");
			printf("_________________________________________________________________________________\n\n\n");
			printf("【游戏规则】\n");
			printf("        1.游戏分为5局，每局您可以猜拳一次，分胜丶负丶平三种结果。\n");
			printf("        2.游戏中您可以输入123分别代表出石头丶剪刀丶布。\n");
			printf("        3.石头比剪刀大，剪刀比布大，布比石头大。\n");
			printf("        4.五局结束后您可以选择再来一次或直接退出游戏。\n");
			printf("【游戏选项】\n");
			printf("        1.【石头】\n");
			printf("        2.【剪刀】\n");
			printf("        3.【布】\n\n\n");

			do {
				fflush(stdin);
				do {
					fflush(stdin);
					printf("【第%d局】\n", num);
					printf("请出拳：");
					scanf_s("%d", &user);
					if (user != 1 && user != 2 && user != 3)
					{
						fflush(stdin);
						printf("抱歉，您的出拳出错，请您按照规则出拳\n");
						continue;
					}
					srand(time(NULL));
					computer = rand() % 3 + 1;
					if (user == 1)
					{
						switch (computer)
						{
						case 1:
							printf("这一局，您出的是【石头】，电脑出的是【石头】，这局是平局\n");
							break;
						case 2:
							printf("这一局，您出的是【石头】，电脑出的是【剪刀】，这局您赢了\n");
							u++;
							break;
						case 3:
							printf("这一局，您出的是【石头】，电脑出的是【布】，这局您输了\n");
							n++;
							break;
						}
					}
					else if (user == 2)
					{
						switch (computer)
						{
						case 1:
							printf("这一局，您出的是【剪刀】，电脑出的是【石头】，这局您输了\n");
							n++;
							break;
						case 2:
							printf("这一局，您出的是【剪刀】，电脑出的是【剪刀】，这局是平局\n");
							break;
						case 3:
							printf("这一局，您出的是【剪刀】，电脑出的是【布】，这局您赢了\n");
							u++;
							break;
						}
					}
					else if (user == 3)
					{
						switch (computer)
						{
						case 1:
							printf("这一局，您出的是【布】，电脑出的是【石头】，这局您赢了\n");
							u++;
							break;
						case 2:
							printf("这一局，您出的是【布】，电脑出的是【剪刀】，这局您输了\n");
							n++;
							break;
						case 3:
							printf("这一局，您出的是【布】，电脑出的是【布】，这局是平局\n");
							break;
						}
					}
					num++;
					user = 0;
				} while (num <= 5);
				
				if (n > u)
				{
					printf("-------------------------------------------------------------------------");
					printf("\n电脑赢了%d局,您赢了%d局,平局%d局，\n很遗憾，您输给了电脑！\n", n, u, 5 - n - u);
					printf("-------------------------------------------------------------------------");
				}
				else if (n < u)
				{
					printf("-------------------------------------------------------------------------");
					printf("\n电脑赢了%d局,您赢了%d局,平局%d局，\n恭喜，您赢了！\n", n, u, 5 - n - u);
					printf("-------------------------------------------------------------------------");
				}
				else if (n == u)
				{
					printf("-------------------------------------------------------------------------");
					printf("\n电脑赢了%d局,您赢了%d局,平局%d局，\n最后的游戏结果是平局\n", n, u, 5 - n - u);
					printf("-------------------------------------------------------------------------");
				}
				n = 0;
				u = 0;
				fflush(stdin);
				num = 1;
				for (;;)
				{
					fflush(stdin);
					printf("\n您是否还要继续游戏？(y or n)\n");
					scanf_s("%c", &c);
					if (c == 'y')
					{
						break;
					}
					else if (c == 'n')
					{
						break;
					}
					else
					{
						printf("输入错误，请重新输入！\n");
					}
				}
			} 
			while (c == 'y');
			break;
		}
		case 5:
		{	
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("☆※※※※※※※※※※九※九※乘※法※表※※※※※※※※※※☆\n");
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n");
			printf("                                                      23210925刘奇制作\n");
			printf("_________________________________________________________________________________\n\n\n");
			{
				int i, j, n;
				for (i = 1; i <= 9; i++) {
					for (j = 1; j <= i; j++)
						printf("%d*%d=%2d  ", i, j, i * j);

					printf("\n");
				}
				return 0;
				break;
			}
		
		}
		case 6:
		{
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n\n");
			printf("☆※※※※※※※※※※※欢※迎※使※用※※※※※※※※※※※☆\n\n");
			printf("  ☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆\n\n");
			printf("                                                      23210925刘奇制作\n");
			printf("_________________________________________________________________________________\n\n\n");
		break;
		}
		}
		if (menuid == 6)
			break;

	}
	printf("退出系统，欢迎您再次使用！\n");
}
